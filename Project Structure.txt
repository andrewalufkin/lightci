Project Structure:
We're using the modern rust syntax which means no mod.rs files, but modules
are named like this: engine.rs, workspace.rs, models.rs, executors.rs, etc.

ğŸ“ lightci/
â”œâ”€â”€ ğŸ“ packages/
â”‚   â”œâ”€â”€ ğŸ“ core/                 # Core pipeline engine (Rust)
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ engine.rs         # Pipeline execution engine
â”‚   â”‚       â”œâ”€â”€ workspace.rs      # Workspace management
â”‚   â”‚       â”œâ”€â”€ git.rs            # Git integration
â”‚   â”‚       â”œâ”€â”€ models.rs         # Data models
â”‚   â”‚       â”œâ”€â”€ executors.rs      # Command execution handlers
â”‚   â”‚       â”œâ”€â”€ traits.rs         # Traits for the engine
â”‚   â”‚       â”œâ”€â”€ config.rs         # Configuration handling (YAML files)
â”‚   â”‚       â”œâ”€â”€ artifact.rs       # Artifact management
â”‚   â”‚       â””â”€â”€ lib.rs            # Library entry point
â”‚   â”œâ”€â”€ ğŸ“ api/                  # API server (Node.js/TypeScript)
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/           # API route definitions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pipelines.ts  # Pipeline endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ builds.ts     # Build endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifacts.ts  # Artifact endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks.ts   # Webhook endpoints
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts      # Route aggregation
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/      # Business logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pipeline.controller.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ build.controller.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ artifact.controller.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ webhook.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/        # Core service layer
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ engine.service.ts  # Interface with Rust core
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ git.service.ts     # Git operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ workspace.service.ts # Workspace management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ artifact.service.ts  # Artifact handling
â”‚   â”‚   â”‚   â”œâ”€â”€ models/          # Data models & types
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Pipeline.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Build.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Step.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/      # Custom middleware
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts      # Authentication
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validation.ts # Request validation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ error-handler.ts # Error handling
â”‚   â”‚   â”‚   â”œâ”€â”€ config/         # Configuration
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ engine.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/          # Utility functions
â”‚   â”‚   â”‚   â””â”€â”€ app.ts          # Express application setup
â”‚   â”‚   â”œâ”€â”€ test/               # Test suite
â”‚   â”‚   â”‚   â”œâ”€â”€ setup.ts        # Test setup and configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ fixtures/       # Test data and fixtures
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pipelines.ts # Pipeline test data
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ builds.ts    # Build test data
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ artifacts.ts # Artifact test data
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/          # Test utilities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ testDb.ts    # Database test helpers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ testServer.ts # Express app test instance
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mockServices.ts # Service mocks
â”‚   â”‚   â”‚   â””â”€â”€ integration/    # Integration tests
â”‚   â”‚   â”‚       â”œâ”€â”€ pipelines.test.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ builds.test.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ artifacts.test.ts
â”‚   â”‚   â”‚       â””â”€â”€ webhooks.test.ts
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ dashboard/          # Web Interface (React/TypeScript)
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/        # Page layouts
â”‚   â”‚   â”‚   â””â”€â”€ hooks/        # Custom React hooks
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ cli/               # Command Line Interface (Rust)
â”‚       â”œâ”€â”€ Cargo.toml
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ main.rs         # CLI entry point
â”‚           â”œâ”€â”€ config.rs       # Configuration handling
â”‚           â”œâ”€â”€ logger.rs       # Logging
â”‚           â”œâ”€â”€ tracker.rs      # Pipeline tracking
â”‚           â”œâ”€â”€ tests.rs        # Tests
â”‚           â””â”€â”€ commands/     # CLI commands 
â”‚
â”œâ”€â”€ ğŸ“ docs/                  # Documentation
â”‚   â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ api/
â”‚   â””â”€â”€ getting-started.md
â”‚
â”œâ”€â”€ ğŸ“ examples/             # Example pipelines and configurations
â”‚   â”œâ”€â”€ simple-pipeline/
â”‚   â””â”€â”€ advanced-pipeline/
â”‚
â”œâ”€â”€ ğŸ“ scripts/             # Development and build scripts
â”‚   â”œâ”€â”€ setup.sh
â”‚   â””â”€â”€ build.sh
â”‚
â”œâ”€â”€ docker-compose.yml      # Development environment
â”œâ”€â”€ .github/               # GitHub Actions for our own CI
â”œâ”€â”€ Project Structure.txt
â”œâ”€â”€ Progress and goals.txt
â””â”€â”€ README.md

Technology Choices:

1. Core Pipeline Engine (Rust):
   - High performance and memory safety
   - Excellent concurrency support
   - Strong system-level programming capabilities
   - Cross-platform compatibility

2. API Server (Node.js/TypeScript):
   - Fast development iteration
   - Large ecosystem for web technologies
   - Good performance for I/O operations
   - Type safety with TypeScript

3. Web Dashboard (React/TypeScript):
   - Modern, responsive UI development
   - Strong component ecosystem
   - Type safety with TypeScript
   - Good developer experience

4. CLI (Rust):
   - Fast startup time
   - Single binary distribution
   - Cross-platform compatibility
   - Shares code with core engine

Build Tools:
- Cargo for Rust packages
- pnpm for Node.js packages (faster than npm)
- Docker for development and deployment
- GitHub Actions for CI/CD